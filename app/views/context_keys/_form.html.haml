:ruby
  _EMPTY_MARKER = '---'

= form_for @context_key, html: { class: 'form-horizontal', role: 'form' } do |f|
  .form-group
    .col-xs-3
      = f.label :meta_key_id, 'MetaKey', class: 'control-label'
    .col-xs-6
      = f.text_field :meta_key_id, class: 'form-control', disabled: @context_key.persisted?
  .form-group
    .col-xs-3
      = f.label :label, 'Label', class: 'control-label'
    .col-xs-6
      = f.text_field :label, class: 'form-control'
      %span.help-block
        %small
          %em from MetaKey: #{@context_key.meta_key.label || _EMPTY_MARKER}
  .form-group
    .col-xs-3
      = f.label :description, 'Description', class: 'control-label'
    .col-xs-6
      = f.text_area :description, class: 'form-control', rows: 4
      %span.help-block
        %small
          %em from MetaKey: #{@context_key.meta_key.description || _EMPTY_MARKER }
  .form-group
    .col-xs-3
      = f.label :hint, 'Hint', class: 'control-label'
    .col-xs-6
      = f.text_area :hint, class: 'form-control', rows: 4
      %span.help-block
        %small
          %em from MetaKey: #{@context_key.meta_key.hint || _EMPTY_MARKER }
  .form-group
    .col-xs-offset-3.col-sm-4
      .checkbox
        %label
          = f.check_box :is_required
          Required?
  .form-group
    .col-xs-3
      = f.label :length_min, class: 'control-label'
    .col-xs-2
      = f.number_field :length_min, class: 'form-control'
  .form-group
    .col-xs-3
      = f.label :length_max, class: 'control-label'
    .col-xs-2
      = f.number_field :length_max, class: 'form-control'
  .form-group
    .col-xs-3
      = f.label :input_type, class: 'control-label'
    .col-xs-3
      = f.select :input_type, ContextKey.input_types.keys, { include_blank: true }, class: 'form-control'
  .form-group
    .col-xs-3
      = f.label :admin_comment, class: 'control-label'
    .col-xs-6
      = f.text_area :admin_comment, class: 'form-control', rows: 4
  .form-group
    .col-xs-offset-3.col-xs-3
      = button_tag type: :submit, class: 'btn btn-success' do
        %span.glyphicon.glyphicon-ok
        Save
      = link_to 'Go back', context_path(@context_key.context), class: 'btn btn-link'
